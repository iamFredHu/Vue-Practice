<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vue - 列表过滤</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <link href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>
<div id="demo">
    <h2>人员列表</h2>
    <input type="text" placeholder="请输入名字" v-model="keyWord">
    <ul>
        <li v-for="element in searchPerson" :key="element.id">{{ element.name }}-{{ element.age }}-{{ element.sex }}</li>
        <!-- key的作用，让每一个li有一个唯一的id（标识） -->
    </ul>

</div>

</body>
<script type="text/javascript">
    // 关闭启动时的生产提示
    Vue.config.productionTip = false;

    const vm = new Vue({
        el: '#demo',
        data: function () {
            return {
                keyWord:'',
                personList: [
                    {
                        id: '001',
                        name: "张三",
                        age: 18,
                        sex: "男"
                    },
                    {
                        id: '002',
                        name: "李四",
                        age: 19,
                        sex: "女"
                    },
                    {
                        id: '003',
                        name: "王五",
                        age: 20,
                        sex: "男"
                    },
                ],
            };
        },
        methods:{
        },
        computed:{
            searchPerson(){
                return this.personList.filter((p)=>{
                    return p.name.indexOf(this.keyWord) !== -1;
                })
            }
        }
        // watch:{
        //     // oldValue不关心
        //     // indexOf 包含返回position 不包含返回-1
        //     keyWord:{
        //         // 初始化的时候就调用一次
        //         immediate:true,
        //         handler(newValue){
        //             this.searchPerson = this.personList.filter((p)=>{
        //                 return p.name.indexOf(newValue) !== -1;
        //             })
        //         }
        //     }
        // }
    });
</script>
<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>

<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
</html>